<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelVax - Vaccine Recommendations for Travelers</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #4285f4, #34a853);
            --secondary-gradient: linear-gradient(135deg, #fbbc05, #ea4335);
            --accent-gradient: linear-gradient(135deg, #34a853, #4285f4);
            --light-gradient: linear-gradient(135deg, #f8f9fa, #e9ecef);
            --dark-gradient: linear-gradient(135deg, #212529, #343a40);
            --primary-color: #4285f4;
            --secondary-color: #34a853;
            --accent-color: #fbbc05;
            --danger-color: #ea4335;
            --light-bg: #f8f9fa;
            --dark-bg: #212529;
            --text-color: #333;
            --light-text: #f8f9fa;
            --card-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --hover-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--light-gradient);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
            opacity: 0.6;
        }

        .header-content {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 2rem;
            width: 100%;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            font-size: 2rem;
            margin: 0;
            animation: pulse 2s ease-in-out infinite;
        }

        .logo h1 {
            font-size: 1.8rem;
            margin: 0;
            background: linear-gradient(135deg, #ffffff, #e0e0e0);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header-text {
            text-align: center;
            font-size: 1rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
        }

        .header-stats {
            display: flex;
            gap: 1rem;
            margin: 0;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s, background 0.3s;
            text-align: center;
        }

        .stat-number {
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
            margin: 0;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @media (max-width: 768px) {
            .header-content {
                grid-template-columns: 1fr;
                gap: 1rem;
                text-align: center;
            }

            .logo {
                justify-content: center;
            }

            .header-stats {
                justify-content: center;
                flex-wrap: wrap;
            }

            .stat-item {
                flex: 1 1 auto;
                min-width: 100px;
            }
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        .search-container {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-bottom: 2rem;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }

        .search-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--hover-shadow);
        }

        .search-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .search-header h2 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.8rem;
        }

        .search-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-color);
        }

        select {
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background-color: white;
            font-size: 1rem;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
        }

        button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
        }

        .results-container {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            display: none;
            transition: transform var(--transition-speed);
        }

        .country-info {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid #e9ecef;
        }

        .country-flag {
            width: 80px;
            height: 60px;
            object-fit: cover;
            margin-right: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--card-shadow);
            transition: transform var(--transition-speed);
        }

        .country-flag:hover {
            transform: scale(1.05);
        }

        .vaccine-item {
            background: var(--light-gradient);
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }

        .vaccine-item:hover {
            transform: translateX(5px);
            box-shadow: var(--hover-shadow);
        }

        .vaccine-name {
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
        }

        .tabs {
            display: flex;
            margin: 2rem 0;
            border-bottom: 2px solid #e9ecef;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .tab {
            padding: 1rem 2rem;
            cursor: pointer;
            background: var(--light-gradient);
            border: none;
            border-radius: 10px;
            transition: all var(--transition-speed);
            font-weight: 500;
        }

        .tab.active {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--card-shadow);
        }

        .tab-content {
            display: none;
            padding: 2rem;
            border-radius: 10px;
            background: white;
            box-shadow: var(--card-shadow);
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loader {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem auto;
            text-align: center;
            position: relative;
            width: 280px;
            height: 280px;
            background: transparent;
            border-radius: 20px;
            box-shadow: none;
            overflow: hidden;
            flex-direction: column;
        }

        .loader-scene {
            position: relative;
            width: 100%;
            height: 100%;
            perspective: 1000px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .doctor, .patient, .syringe, .medicine, .heart, .sparkle {
            position: absolute;
            font-size: 30px;
            animation: float 1.5s ease-in-out infinite;
        }

        .loading-stage {
            display: none;
        }

        .loading-stage::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent
            );
            animation: stageScan 2s linear infinite;
        }

        .loader-text {
            position: relative;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 1rem;
            color: #666;
            background: transparent;
            animation: textMove 1.5s infinite;
            margin-top: 10px;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            20% {
                transform: translateY(-20px);
            }
            50% {
                transform: translateY(-40px);
            }
            80% {
                transform: translateY(-20px);
            }
        }

        @keyframes stageScan {
            0% { transform: translateX(0); }
            50% { transform: translateX(50%); }
            100% { transform: translateX(100%); }
        }

        @keyframes textMove {
            0%, 100% {
                transform: translateX(0);
            }
            50% {
                transform: translateX(15px);
            }
        }

        .loading-dots::after {
            content: '...';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .vaccine-loader {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            animation: rotate 15s linear infinite;
        }

        .syringe-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-style: preserve-3d;
            transform: translate(-50%, -50%) rotateX(20deg);
            animation: float 4s ease-in-out infinite;
        }

        .syringe {
            position: relative;
            width: 60px;
            height: 120px;
            transform-style: preserve-3d;
        }

        .syringe-body {
            position: absolute;
            width: 20px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform-style: preserve-3d;
        }

        .syringe-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255,255,255,0.1), rgba(255,255,255,0.3));
            border-radius: 10px;
            transform: translateZ(1px);
        }

        .syringe-needle {
            position: absolute;
            width: 4px;
            height: 30px;
            background: linear-gradient(to bottom, #666, #999);
            top: -30px;
            left: 50%;
            transform: translateX(-50%) translateZ(2px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .syringe-needle::before {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #666;
            border-radius: 50%;
            top: -3px;
            left: 50%;
            transform: translateX(-50%);
        }

        .syringe-plunger {
            position: absolute;
            width: 24px;
            height: 20px;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            border-radius: 10px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateZ(1px);
            animation: push 2s ease-in-out infinite;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .liquid {
            position: absolute;
            width: 16px;
            height: 0;
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            border-radius: 8px;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateZ(0.5px);
            animation: fill 2s ease-in-out infinite;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .injection-site {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at center, #f8f9fa, #e9ecef);
            border-radius: 50%;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%) translateZ(-10px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            animation: pulse 2s ease-in-out infinite;
        }

        .injection-site::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(52, 168, 83, 0.2), transparent);
            border-radius: 50%;
            animation: ripple 2s ease-in-out infinite;
        }

        .bubbles {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .bubble {
            position: absolute;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.4));
            border-radius: 50%;
            animation: rise 2s ease-in-out infinite;
            box-shadow: 0 2px 4px rgba(255,255,255,0.3);
            transform-style: preserve-3d;
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary-color);
            border-radius: 50%;
            animation: particleFloat 3s ease-in-out infinite;
            opacity: 0.6;
            transform-style: preserve-3d;
        }

        @keyframes push {
            0%, 100% {
                transform: translateX(-50%) translateZ(1px) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateZ(1px) translateY(-20px);
            }
        }

        @keyframes fill {
            0%, 100% {
                height: 0;
                opacity: 0.8;
            }
            50% {
                height: 60px;
                opacity: 1;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: translate(-50%, -50%) translateZ(-10px) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) translateZ(-10px) scale(1.1);
            }
        }

        @keyframes ripple {
            0% {
                transform: scale(0.5);
                opacity: 0.5;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        @keyframes rise {
            0% {
                bottom: -30px;
                opacity: 0;
                transform: scale(0.5) translateZ(0);
            }
            20% {
                opacity: 0.5;
                transform: scale(0.75) translateZ(10px);
            }
            50% {
                opacity: 1;
                transform: scale(1) translateZ(20px);
            }
            80% {
                opacity: 0.5;
                transform: scale(0.75) translateZ(10px);
            }
            100% {
                bottom: 100%;
                opacity: 0;
                transform: scale(0.5) translateZ(0);
            }
        }

        @keyframes particleFloat {
            0%, 100% {
                transform: translate(0, 0) scale(1) translateZ(0);
                opacity: 0.6;
            }
            20% {
                transform: translate(15px, -15px) scale(1.2) translateZ(10px);
                opacity: 0.4;
            }
            50% {
                transform: translate(30px, -30px) scale(1.5) translateZ(20px);
                opacity: 0.3;
            }
            80% {
                transform: translate(15px, -15px) scale(1.2) translateZ(10px);
                opacity: 0.4;
            }
        }

        .alert {
            padding: 1.25rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            font-weight: 500;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .alert-info {
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.1), rgba(52, 168, 83, 0.1));
            border-left: 4px solid var(--primary-color);
            color: var(--primary-color);
        }

        .alert-warning {
            background: linear-gradient(135deg, rgba(251, 188, 5, 0.1), rgba(234, 67, 53, 0.1));
            border-left: 4px solid var(--accent-color);
            color: #d18700;
        }

        footer {
            background: var(--dark-gradient);
            color: var(--light-text);
            padding: 3rem 0;
            margin-top: 4rem;
            text-align: center;
            font-size: 0.9rem;
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
                margin: 1rem auto;
            }

            .search-container {
                padding: 1.5rem;
            }

            .search-header h2 {
                font-size: 1.5rem;
            }

            .country-info {
                flex-direction: column;
                text-align: center;
            }

            .country-flag {
                margin: 0 0 1rem 0;
                width: 120px;
                height: 90px;
            }

            .tabs {
                flex-direction: column;
                gap: 0.5rem;
            }

            .tab {
                width: 100%;
                text-align: center;
            }

            .tab-content {
                padding: 1.5rem;
            }

            .vaccine-item {
                padding: 1.25rem;
            }

            button {
                padding: 0.875rem;
                font-size: 1rem;
            }

            select {
                padding: 0.875rem;
            }

            header {
                padding: 2rem 1rem;
                min-height: auto;
            }

            .logo h1 {
                font-size: 2rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .header-stats {
                flex-direction: column;
                gap: 1rem;
            }

            .stat-item {
                width: 100%;
                text-align: center;
            }
        }

        /* Tablet Optimizations */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                padding: 0 2rem;
            }

            .search-container {
                max-width: 90%;
                margin: 2rem auto;
            }
        }

        /* Print Styles */
        @media print {
            .search-container, .tabs, button {
                display: none;
            }

            .results-container {
                display: block;
                box-shadow: none;
            }

            body {
                background: white;
            }
        }

        /* Vaccine Details Modal */
        .vaccine-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            position: relative;
            background: white;
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            animation: modalSlideIn 0.3s ease-out;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #eee;
        }

        .modal-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 0.5rem;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--danger-color);
        }

        .vaccine-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .detail-section {
            background: var(--light-gradient);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .detail-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .detail-list {
            list-style: none;
            padding: 0;
        }

        .detail-list li {
            margin-bottom: 0.75rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .detail-list li::before {
            content: '•';
            color: var(--primary-color);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .severity-indicator {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .severity-high {
            background: rgba(234, 67, 53, 0.1);
            color: var(--danger-color);
        }

        .severity-medium {
            background: rgba(251, 188, 5, 0.1);
            color: #d18700;
        }

        .severity-low {
            background: rgba(52, 168, 83, 0.1);
            color: var(--secondary-color);
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Welcome Page Styles */
        .welcome-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .welcome-content {
            text-align: center;
            color: white;
            padding: 2rem;
            max-width: 600px;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .welcome-logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: welcomeLogo 2s ease-in-out infinite;
            display: inline-block;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .welcome-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .welcome-subtitle {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out 0.2s forwards;
            color: rgba(255, 255, 255, 0.9);
        }

        .welcome-tagline {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            font-style: italic;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
            color: rgba(255, 255, 255, 0.8);
        }

        .welcome-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .enter-button, .explore-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            opacity: 0;
            transform: translateY(20px);
            position: relative;
            overflow: hidden;
            min-width: 200px;
        }

        .enter-button {
            animation: fadeInUp 0.8s ease-out 0.4s forwards;
            background: rgba(255, 255, 255, 0.3);
        }

        .explore-button {
            animation: fadeInUp 0.8s ease-out 0.6s forwards;
        }

        .enter-button:hover, .explore-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.4);
        }

        .button-icon {
            margin-right: 0.8rem;
            display: inline-block;
            transform: translateY(1px);
            font-size: 1.4rem;
        }

        .floating-icon {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0.2;
            animation: floatIcon 6s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .floating-icon:nth-child(1) { top: 15%; left: 10%; animation-delay: 0s; font-size: 3rem; }
        .floating-icon:nth-child(2) { top: 65%; left: 15%; animation-delay: -1s; font-size: 2.5rem; }
        .floating-icon:nth-child(3) { top: 25%; right: 15%; animation-delay: -2s; font-size: 3.5rem; }
        .floating-icon:nth-child(4) { top: 75%; right: 10%; animation-delay: -3s; font-size: 2.8rem; }

        .quote-slideshow {
            position: relative;
            max-width: 800px;
            margin: 2rem auto 0;
            padding: 1.5rem;
            overflow: hidden;
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes welcomeLogo {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(5deg); }
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes floatIcon {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(15px, -15px) rotate(10deg); }
        }

        .loader-scene, .doctor, .patient, .syringe, .medicine, .heart, .sparkle {
            animation-duration: 1.5s;
            animation-timing-function: ease-in-out;
        }

        @keyframes floatDoctor {
            0%, 100% {
                transform: translateY(0);
            }
            20% {
                transform: translateY(-20px);
            }
            50% {
                transform: translateY(-40px);
            }
            80% {
                transform: translateY(-20px);
            }
        }

        @keyframes floatPatient {
            0%, 100% {
                transform: translateY(0);
            }
            25% {
                transform: translateY(-30px);
            }
            50% {
                transform: translateY(-60px);
            }
            75% {
                transform: translateY(-30px);
            }
        }

        @keyframes floatSyringe {
            0%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-40px);
            }
            60% {
                transform: translateY(-80px);
            }
            90% {
                transform: translateY(-40px);
            }
        }

        @keyframes floatMedicine {
            0%, 100% {
                transform: translateY(0);
            }
            15% {
                transform: translateY(-20px);
            }
            45% {
                transform: translateY(-50px);
            }
            70% {
                transform: translateY(-20px);
            }
        }

        @keyframes floatHeart {
            0%, 100% {
                transform: translateY(0);
            }
            10% {
                transform: translateY(-10px);
            }
            40% {
                transform: translateY(-30px);
            }
            65% {
                transform: translateY(-10px);
            }
        }

        @keyframes floatSparkle {
            0%, 100% {
                transform: translateY(0);
            }
            20% {
                transform: translateY(-16px);
            }
            50% {
                transform: translateY(-36px);
            }
            80% {
                transform: translateY(-16px);
            }
        }

        .doctor {
            animation: floatDoctor 1.5s ease-in-out infinite;
        }

        .patient {
            animation: floatPatient 1.8s ease-in-out infinite;
        }

        .syringe {
            animation: floatSyringe 2s ease-in-out infinite;
        }

        .medicine {
            animation: floatMedicine 1.6s ease-in-out infinite;
        }

        .heart {
            animation: floatHeart 1.2s ease-in-out infinite;
        }

        .sparkle {
            animation: floatSparkle 1.9s ease-in-out infinite;
        }

        .transition-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: white;
            opacity: 0;
            animation: fadeInOut 3s ease-in-out forwards;
            animation-delay: 1.5s;
            z-index: 1001;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="welcome-page" id="welcomePage">
        <div class="welcome-icons">
            <div class="floating-icon">✈️</div>
            <div class="floating-icon">🌍</div>
            <div class="floating-icon">🏥</div>
            <div class="floating-icon">🧬</div>
        </div>
        <div class="welcome-content">
            <div class="welcome-logo">💉</div>
            <h1 class="welcome-title">TravelVax</h1>
            <p class="welcome-subtitle">Your Health Passport to the World</p>
            <p class="welcome-tagline">"Because every journey begins with safety"</p>
            <div class="welcome-buttons">
                <button class="enter-button" onclick="enterWebsite()">
                    <span class="button-icon">🚀</span>Begin Journey
                </button>
            </div>
        </div>
        <div class="quote-slideshow">
            <div class="quote-slide active">
                <p class="quote-text">"The greatest wealth is health. Protect it wherever your adventures take you."</p>
                <p class="quote-author">- Ancient Wisdom</p>
            </div>
            <div class="quote-slide">
                <p class="quote-text">"Travel makes one modest. You see what a tiny place you occupy in the world."</p>
                <p class="quote-author">- Gustave Flaubert</p>
            </div>
            <div class="quote-slide">
                <p class="quote-text">"Prevention is better than cure, especially when exploring the world."</p>
                <p class="quote-author">- TravelVax Motto</p>
            </div>
            <div class="quote-slide">
                <p class="quote-text">"The world is a book, and those who do not travel read only one page. Travel safely."</p>
                <p class="quote-author">- Saint Augustine</p>
            </div>
            <div class="quote-nav"></div>
        </div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">💉</div>
                <h1>TravelVax</h1>
            </div>
            <p class="header-text">Your trusted companion for safe and healthy travel. Get personalized vaccine recommendations for your destinations.</p>
            <div class="header-stats">
                <div class="stat-item">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Countries</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Vaccines</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support</div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="search-container">
            <div class="search-header">
                <h2>Find Travel Vaccine Recommendations</h2>
                <p>Select a country to see recommended vaccinations for your trip</p>
            </div>
            
            <div class="error-message" id="errorMessage"></div>
            
            <form class="search-form" id="searchForm">
                <div class="form-group">
                    <label for="country">Destination Country:</label>
                    <select id="country" required>
                        <option value="">Select a country</option>
                        <!-- Countries will be populated by JavaScript -->
                    </select>
                </div>
                
                <button type="submit">Get Recommendations</button>
            </form>
        </div>
        
        <div class="loader" id="loader">
            <div class="loader-scene">
                <div class="doctor">👨‍⚕️</div>
                <div class="patient">🧑</div>
                <div class="syringe" style="left: 45%; top: 40%;">💉</div>
                <div class="medicine" style="left: 35%; top: 50%;">💊</div>
                <div class="medicine" style="left: 55%; top: 45%;">🧪</div>
                <div class="heart" style="left: 48%; top: 35%;">❤️</div>
                <div class="sparkle" style="left: 40%; top: 45%;">✨</div>
                <div class="sparkle" style="left: 60%; top: 40%;">✨</div>
                <div class="health-items">
                    <div class="health-item">🦠</div>
                    <div class="health-item">🧬</div>
                    <div class="health-item">🔬</div>
                    <div class="health-item">🏥</div>
                </div>
                <div class="loading-stage"></div>
            </div>
            <div class="loader-text">
                Preparing your travel health plan<span class="loading-dots"></span>
            </div>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <div class="country-info" id="countryInfo">
                <!-- Will be populated by JavaScript -->
            </div>
            
            <div class="alert alert-info">
                <strong>Note:</strong> These recommendations are general guidelines. Please consult with a healthcare provider for personalized medical advice.
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="vaccines">Recommended Vaccines</div>
                <div class="tab" data-tab="health">Health Info</div>
                <div class="tab" data-tab="tips">Travel Tips</div>
            </div>
            
            <div class="tab-content active" id="vaccinesTab">
                <h3 class="vaccines-header">Recommended Vaccines</h3>
                <ul class="vaccine-list" id="vaccineList">
                    <!-- Will be populated by JavaScript -->
                </ul>
            </div>
            
            <div class="tab-content" id="healthTab">
                <h3>Local Health Information</h3>
                <div class="health-facts" id="healthInfo">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="tipsTab">
                <h3>Travel Health Tips</h3>
                <div class="travel-tips">
                    <ul class="tips-list">
                        <li><span class="tip-icon">✓</span> Schedule your vaccines 4-6 weeks before travel to ensure full immunity</li>
                        <li><span class="tip-icon">✓</span> Carry a record of your vaccinations during your trip</li>
                        <li><span class="tip-icon">✓</span> Pack a travel health kit with first-aid supplies and medications</li>
                        <li><span class="tip-icon">✓</span> Research healthcare facilities at your destination before departing</li>
                        <li><span class="tip-icon">✓</span> Check if travel insurance covers medical evacuation in emergencies</li>
                        <li><span class="tip-icon">✓</span> Keep hydrated and use safe water sources</li>
                        <li><span class="tip-icon">✓</span> Use insect repellent in areas with mosquito-borne diseases</li>
                        <li><span class="tip-icon">✓</span> Avoid eating uncooked foods or drinking untreated water</li>
                        <li><span class="tip-icon">✓</span> Bring prescription medications in original packaging with doctor's notes</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 TravelVax | Providing travel health information</p>
        <p>This site provides information for educational purposes only. Always consult a healthcare professional before travel.</p>
    </footer>

    <script>
        // DOM Elements
        const countrySelect = document.getElementById('country');
        const searchForm = document.getElementById('searchForm');
        const loader = document.getElementById('loader');
        const resultsContainer = document.getElementById('resultsContainer');
        const countryInfo = document.getElementById('countryInfo');
        const vaccineList = document.getElementById('vaccineList');
        const healthInfo = document.getElementById('healthInfo');
        const errorMessage = document.getElementById('errorMessage');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // API endpoints and configuration
        const REST_COUNTRIES_API = 'https://restcountries.com/v3.1';
        const GEMINI_API_KEY = 'AIzaSyCBhTkjvvVDYopdn8_MPv6fTalSMTsSW3c';
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent';

        // Function to call Gemini API with safety settings
        async function callGeminiAPI(prompt) {
            try {
                console.log('Calling Gemini 1.5 Pro API...');
                
                if (!GEMINI_API_KEY) {
                    throw new Error('Please configure a valid Gemini API key');
                }

                const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }],
                        safetySettings: [
                            {
                                category: "HARM_CATEGORY_HARASSMENT",
                                threshold: "BLOCK_NONE"
                            },
                            {
                                category: "HARM_CATEGORY_HATE_SPEECH",
                                threshold: "BLOCK_NONE"
                            },
                            {
                                category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                                threshold: "BLOCK_NONE"
                            },
                            {
                                category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                                threshold: "BLOCK_NONE"
                            }
                        ],
                        generationConfig: {
                            temperature: 0.7,
                            topK: 40,
                            topP: 0.95,
                            maxOutputTokens: 1024
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.text();
                    console.error('Gemini API Error Response:', errorData);
                    throw new Error(`Gemini API failed with status: ${response.status}. ${errorData}`);
                }

                const data = await response.json();
                console.log('Gemini API Response:', data);
                
                if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                    throw new Error('Invalid response format from Gemini API');
                }

                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error('Error calling Gemini API:', error.message);
                showError(`API Error: ${error.message}. Using fallback data.`);
                return null;
            }
        }

        // Fetch countries from REST Countries API
        async function fetchCountries() {
            showLoader();
            try {
                console.log('Fetching countries from REST Countries API...');
                const response = await fetch('https://restcountries.com/v3.1/all');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!Array.isArray(data) || data.length === 0) {
                    throw new Error('Invalid response format from REST Countries API');
                }
                
                console.log(`Successfully fetched ${data.length} countries`);
                
                // Sort countries alphabetically by name
                data.sort((a, b) => a.name.common.localeCompare(b.name.common));
                
                // Store the data globally for later use
                window.countriesData = data;
                
                // Populate the dropdown
                const countrySelect = document.getElementById('country');
                if (!countrySelect) {
                    throw new Error('Country select element not found in DOM');
                }
                
                // Clear existing options
                countrySelect.innerHTML = '<option value="">Select a country</option>';
                
                // Add countries to dropdown
                data.forEach(country => {
                    if (country.name && country.name.common) {
                        const option = document.createElement('option');
                        option.value = country.name.common;
                        option.textContent = country.name.common;
                        countrySelect.appendChild(option);
                    }
                });
                
                console.log('Countries dropdown populated successfully');
            } catch (error) {
                console.error('Error fetching countries:', error);
                showError(`Failed to load countries: ${error.message}. Please refresh the page.`);
                
                // Add fallback countries in case of API failure
                const countrySelect = document.getElementById('country');
                if (countrySelect) {
                    countrySelect.innerHTML = '<option value="">Select a country</option>';
                    const fallbackCountries = [
                        'United States', 'United Kingdom', 'Canada', 'Australia', 
                        'Germany', 'France', 'Japan', 'China', 'India', 'Brazil'
                    ];
                    fallbackCountries.forEach(country => {
                        const option = document.createElement('option');
                        option.value = country;
                        option.textContent = country;
                        countrySelect.appendChild(option);
                    });
                }
            } finally {
                hideLoader();
            }
        }

        // Get vaccine recommendations based on country data
        async function getVaccineRecommendations(countryName) {
            showLoader();
            
            try {
                // Find the country data from our stored data
                const countryData = window.countriesData.find(c => c.name.common === countryName);
                
                if (!countryData) {
                    throw new Error('Country data not found');
                }

                console.log('Selected Country Data:', countryData);

                // Generate vaccine recommendations using Gemini API
                const vaccinePrompt = `You are a medical expert providing vaccine recommendations for travelers. 
                Generate a specific list of recommended vaccines for travelers visiting ${countryData.name.common}. 
                
                Country Information:
                - Region: ${countryData.region}${countryData.subregion ? ` (${countryData.subregion})` : ''}
                - Population: ${countryData.population}
                - Languages: ${Object.values(countryData.languages || {}).join(', ')}
                - Capital: ${countryData.capital?.[0] || 'N/A'}
                
                Consider:
                1. Regional disease risks
                2. Local health conditions
                3. Population density
                4. Healthcare infrastructure
                5. Recent disease outbreaks
                
                Return ONLY a JSON array of vaccine objects in this exact format:
                [
                    {
                        "name": "vaccine name",
                        "description": "specific reason for this vaccine in this country",
                        "requirement": "Required",
                        "riskLevel": "High"
                    }
                ]
                
                Include 4-6 most important vaccines. Make descriptions specific to the country.`;

                const vaccineResponse = await callGeminiAPI(vaccinePrompt);
                console.log('Raw Vaccine Response from Gemini:', vaccineResponse);
                let vaccines = [];

                if (vaccineResponse) {
                    try {
                        // Clean the response to extract only the JSON array
                        const cleanedResponse = vaccineResponse
                            .replace(/```json/g, '')
                            .replace(/```/g, '')
                            .trim();
                        
                        console.log('Cleaned Vaccine Response:', cleanedResponse);
                        
                        // Try to parse the JSON
                        const parsedVaccines = JSON.parse(cleanedResponse);
                        console.log('Parsed Vaccine Data:', parsedVaccines);
                        
                        // Validate the structure
                        if (Array.isArray(parsedVaccines) && parsedVaccines.length > 0) {
                            vaccines = parsedVaccines.map(vaccine => ({
                                name: vaccine.name || 'Unknown Vaccine',
                                description: vaccine.description || 'No description available',
                                requirement: vaccine.requirement || 'Recommended',
                                riskLevel: vaccine.riskLevel || 'Medium'
                            }));
                        }
                    } catch (error) {
                        console.error('Error parsing vaccine data:', error);
                    }
                }

                // Fallback to region-specific recommendations if Gemini API fails
                if (vaccines.length === 0) {
                    console.log('Using fallback vaccine recommendations');
                    // Basic vaccines for all countries
                    vaccines = [
                        {
                            name: "MMR",
                            description: "Protects against measles, mumps, and rubella. Essential for international travel.",
                            requirement: "Routine",
                            riskLevel: "Low"
                        },
                        {
                            name: "Tdap",
                            description: "Protects against tetanus, diphtheria, and pertussis. Recommended for all travelers.",
                            requirement: "Routine",
                            riskLevel: "Low"
                        }
                    ];

                    // Region-specific vaccines
                    if (countryData.region === "Africa" || countryData.subregion?.includes("Africa")) {
                        vaccines.push(
                            {
                                name: "Yellow Fever",
                                description: `Required for entry to ${countryData.name.common}. High risk in this region.`,
                                requirement: "Required",
                                riskLevel: "High"
                            },
                            {
                                name: "Hepatitis A",
                                description: "High risk of food and water-borne transmission in this region.",
                                requirement: "Recommended",
                                riskLevel: "High"
                            },
                            {
                                name: "Typhoid",
                                description: "Common in areas with limited access to clean water and food safety concerns.",
                                requirement: "Recommended",
                                riskLevel: "High"
                            }
                        );
                    } else if (countryData.region === "Asia" || countryData.subregion?.includes("Asia")) {
                        vaccines.push(
                            {
                                name: "Hepatitis A",
                                description: "Prevalent in many Asian countries. High risk of transmission.",
                                requirement: "Recommended",
                                riskLevel: "High"
                            },
                            {
                                name: "Typhoid",
                                description: "Common in areas with varying food safety standards.",
                                requirement: "Recommended",
                                riskLevel: "High"
                            },
                            {
                                name: "Japanese Encephalitis",
                                description: "Risk in rural areas, especially during monsoon season.",
                                requirement: "Recommended",
                                riskLevel: "Medium"
                            }
                        );
                    } else if (countryData.region === "Americas" || countryData.subregion?.includes("America")) {
                        vaccines.push(
                            {
                                name: "Hepatitis A",
                                description: "Varying risk levels across different regions of the Americas.",
                                requirement: "Recommended",
                                riskLevel: "Medium"
                            },
                            {
                                name: "Typhoid",
                                description: "Risk varies by region and local sanitation conditions.",
                                requirement: "Recommended",
                                riskLevel: "Medium"
                            }
                        );
                    }

                    // Add population density based recommendations
                    if (countryData.population > 100000000) {
                        vaccines.push(
                            {
                                name: "COVID-19",
                                description: "High population density increases transmission risk.",
                                requirement: "Recommended",
                                riskLevel: "High"
                            },
                            {
                                name: "Influenza",
                                description: "Seasonal flu risk increased in densely populated areas.",
                                requirement: "Recommended",
                                riskLevel: "Medium"
                            }
                        );
                    }
                }

                // Generate health information using Gemini API
                const healthPrompt = `Generate comprehensive health information for travelers visiting ${countryData.name.common}.
                Consider the following information:
                - Region: ${countryData.region}${countryData.subregion ? ` (${countryData.subregion})` : ''}
                - Population: ${countryData.population}
                - Languages: ${Object.values(countryData.languages || {}).join(', ')}
                - Capital: ${countryData.capital?.[0] || 'N/A'}
                - Currencies: ${Object.values(countryData.currencies || {}).map(curr => `${curr.name} (${curr.symbol || 'N/A'})`).join(', ')}
                
                Include information about:
                1. Disease risks and health concerns
                2. Medical facilities and healthcare access
                3. Water and food safety
                4. Local conditions and environmental factors
                5. Cultural considerations related to health
                
                Format the response in HTML with appropriate paragraphs and lists.`;

                let healthInfo = await callGeminiAPI(healthPrompt);
                console.log('Health Info Response from Gemini:', healthInfo);

                // Fallback to basic health info if Gemini API fails
                if (!healthInfo) {
                    console.log('Using fallback health information');
                    healthInfo = generateHealthInfo(countryData);
                }
                
                displayResults(countryData, vaccines, healthInfo);
            } catch (error) {
                console.error('Error:', error);
                showError('Failed to fetch recommendations. Please try again later.');
            } finally {
                hideLoader();
            }
        }

        // Generate health information based on country data
        function generateHealthInfo(countryData) {
            const info = [];
            
            // Basic health information
            info.push(`<p><strong>Region:</strong> ${countryData.region}${countryData.subregion ? ` (${countryData.subregion})` : ''}</p>`);
            
            // Population density consideration
            if (countryData.population > 100000000) {
                info.push(`<p><strong>Population Density:</strong> High population density may increase disease transmission risk.</p>`);
            }
            
            // Language information
            if (countryData.languages) {
                const languages = Object.values(countryData.languages).join(', ');
                info.push(`<p><strong>Languages:</strong> ${languages}</p>`);
            }
            
            // Currency information
            if (countryData.currencies) {
                const currencies = Object.values(countryData.currencies)
                    .map(curr => `${curr.name} (${curr.symbol || 'N/A'})`)
                    .join(', ');
                info.push(`<p><strong>Local Currency:</strong> ${currencies}</p>`);
            }
            
            // Capital information
            if (countryData.capital && countryData.capital.length > 0) {
                info.push(`<p><strong>Capital:</strong> ${countryData.capital[0]}</p>`);
            }
            
            // Region-specific health advice
            if (countryData.region === "Africa" || countryData.subregion?.includes("Africa")) {
                info.push(`
                    <p><strong>Health Considerations:</strong></p>
                    <ul>
                        <li>High risk of malaria in many regions</li>
                        <li>Food and water safety concerns</li>
                        <li>Limited healthcare access in rural areas</li>
                        <li>Yellow fever vaccination may be required</li>
                    </ul>
                `);
            } else if (countryData.region === "Asia" || countryData.subregion?.includes("Asia")) {
                info.push(`
                    <p><strong>Health Considerations:</strong></p>
                    <ul>
                        <li>Food and water safety varies by region</li>
                        <li>Air pollution in major cities</li>
                        <li>Healthcare quality varies significantly</li>
                        <li>High risk of food-borne illnesses</li>
                    </ul>
                `);
            } else if (countryData.region === "Americas" || countryData.subregion?.includes("America")) {
                info.push(`
                    <p><strong>Health Considerations:</strong></p>
                    <ul>
                        <li>Healthcare access varies by region</li>
                        <li>Altitude sickness in mountainous areas</li>
                        <li>Food safety varies by region</li>
                        <li>Mosquito-borne diseases in tropical areas</li>
                    </ul>
                `);
            }
            
            return info.join('');
        }

        // Display results
        function displayResults(countryData, vaccineData, healthData) {
            // Update country info with proper flag URL
            countryInfo.innerHTML = `
                <img class="country-flag" src="${countryData.flags.png}" 
                     alt="${countryData.name.common} flag" 
                     onerror="this.onerror=null; this.src='https://flagcdn.com/w160/${countryData.cca2.toLowerCase()}.png';">
                <div>
                    <h2>${countryData.name.common}</h2>
                    <p>Region: ${countryData.region}${countryData.subregion ? ` (${countryData.subregion})` : ''}</p>
                </div>
            `;
            
            // Clear previous vaccine list
            vaccineList.innerHTML = '';
            
            // Sort vaccines: required first, then by risk level
            vaccineData.sort((a, b) => {
                const reqPriority = { required: 0, recommended: 1, routine: 2 };
                const reqDiff = (reqPriority[a.requirement.toLowerCase()] || 3) - (reqPriority[b.requirement.toLowerCase()] || 3);
                if (reqDiff !== 0) return reqDiff;
                
                const riskPriority = { high: 0, medium: 1, low: 2 };
                return (riskPriority[a.riskLevel.toLowerCase()] || 3) - (riskPriority[b.riskLevel.toLowerCase()] || 3);
            });
            
            // Populate vaccine list
            vaccineData.forEach(vaccine => {
                const riskClass = vaccine.riskLevel.toLowerCase() === 'high' ? 'risk-high' : 
                                 vaccine.riskLevel.toLowerCase() === 'medium' ? 'risk-medium' : '';
                
                const reqLabel = vaccine.requirement.toLowerCase() === 'required' ? 
                                '<span style="color: #ea4335; font-weight: 600;">REQUIRED</span>' : 
                                (vaccine.requirement.toLowerCase() === 'recommended' ? 
                                '<span style="color: #fbbc05; font-weight: 600;">RECOMMENDED</span>' : 
                                '<span style="color: #34a853; font-weight: 600;">ROUTINE</span>');
                
                const li = document.createElement('li');
                li.className = `vaccine-item ${riskClass}`;
                li.innerHTML = `
                    <div class="vaccine-name">
                        <span class="vaccine-icon">💉</span> ${vaccine.name}
                    </div>
                    <div class="vaccine-info">${vaccine.description}</div>
                    <div>
                        <strong>Status:</strong> ${reqLabel} | 
                        <strong>Risk Level:</strong> ${vaccine.riskLevel}
                    </div>
                `;
                
                // Add click handler for vaccine details
                li.onclick = () => showVaccineDetails(vaccine);
                li.style.cursor = 'pointer';
                
                vaccineList.appendChild(li);
            });
            
            // Update health info
            healthInfo.innerHTML = healthData;
            
            // Show results
            resultsContainer.style.display = 'block';
            
            // Reset to first tab
            tabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            document.querySelector('.tab[data-tab="vaccines"]').classList.add('active');
            document.getElementById('vaccinesTab').classList.add('active');
            
            // Scroll to results
            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Show loader
        function showLoader() {
            loader.style.display = 'block';
            resultsContainer.style.display = 'none';
            errorMessage.style.display = 'none';
            
            loader.innerHTML = `
                <div class="loader-scene">
                    <div class="doctor">👨‍⚕️</div>
                    <div class="patient">🧑</div>
                    <div class="syringe" style="left: 45%; top: 40%;">💉</div>
                    <div class="medicine" style="left: 35%; top: 50%;">💊</div>
                    <div class="medicine" style="left: 55%; top: 45%;">🧪</div>
                    <div class="heart" style="left: 48%; top: 35%;">❤️</div>
                    <div class="sparkle" style="left: 40%; top: 45%;">✨</div>
                    <div class="sparkle" style="left: 60%; top: 40%;">✨</div>
                    <div class="health-items">
                        <div class="health-item">🦠</div>
                        <div class="health-item">🧬</div>
                        <div class="health-item">🔬</div>
                        <div class="health-item">🏥</div>
                    </div>
                    <div class="loading-stage"></div>
                </div>
                <div class="loader-text">
                    Preparing your travel health plan<span class="loading-dots"></span>
                </div>
            `;
        }
        
        // Hide loader
        function hideLoader() {
            loader.style.display = 'none';
        }
        
        // Show error message
        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            if (errorMessage) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                // Auto-hide error after 5 seconds
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 5000);
            }
            console.error(message);
        }
        
        // Tab functionality
        function setupTabs() {
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}Tab`).classList.add('active');
                });
            });
        }
        
        // Initialize the application
        function init() {
            // Fetch countries when the page loads
            fetchCountries();
            
            // Add form submission handler
            const searchForm = document.getElementById('searchForm');
            if (searchForm) {
                searchForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const countrySelect = document.getElementById('country');
                    if (!countrySelect) {
                        console.error('Country select element not found');
                        return;
                    }
                    
                    const selectedCountry = countrySelect.value;
                    if (!selectedCountry) {
                        showError('Please select a country');
                        return;
                    }
                    
                    // Get vaccine recommendations for the selected country
                    await getVaccineRecommendations(selectedCountry);
                });
            }
            
            // Setup tabs
            setupTabs();
        }

        // Call init when the document is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Add vaccine details functionality
        function showVaccineDetails(vaccine) {
            const modal = document.createElement('div');
            modal.className = 'vaccine-modal';
            
            const severityClass = vaccine.riskLevel.toLowerCase() === 'high' ? 'severity-high' :
                                vaccine.riskLevel.toLowerCase() === 'medium' ? 'severity-medium' :
                                'severity-low';

            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title">${vaccine.name}</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="vaccine-details">
                        <div class="detail-section">
                            <h3>Usage & Administration</h3>
                            <ul class="detail-list">
                                <li>Recommended for: ${vaccine.description}</li>
                                <li>Administration: ${getVaccineDetails(vaccine.name).administration}</li>
                                <li>Dosage: ${getVaccineDetails(vaccine.name).dosage}</li>
                                <li>Schedule: ${getVaccineDetails(vaccine.name).schedule}</li>
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h3>Precautions & Contraindications</h3>
                            <ul class="detail-list">
                                ${getVaccineDetails(vaccine.name).precautions.map(p => `<li>${p}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h3>Side Effects</h3>
                            <ul class="detail-list">
                                ${getVaccineDetails(vaccine.name).sideEffects.map(e => `<li>${e}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="detail-section">
                            <h3>Additional Information</h3>
                            <ul class="detail-list">
                                <li>Recommended Age: ${getVaccineDetails(vaccine.name).recommendedAge}</li>
                                <li>Severity: <span class="severity-indicator ${severityClass}">${vaccine.riskLevel}</span></li>
                                <li>Protection Duration: ${getVaccineDetails(vaccine.name).protectionDuration}</li>
                                <li>Storage Requirements: ${getVaccineDetails(vaccine.name).storage}</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
            modal.style.display = 'block';

            // Close modal functionality
            const closeBtn = modal.querySelector('.close-modal');
            closeBtn.onclick = () => {
                modal.style.display = 'none';
                document.body.removeChild(modal);
            };

            // Close on outside click
            modal.onclick = (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.removeChild(modal);
                }
            };
        }

        // Function to get vaccine details
        function getVaccineDetails(vaccineName) {
            // This would typically come from an API or database
            // For now, returning mock data
            const vaccineDetails = {
                'MMR': {
                    administration: 'Subcutaneous injection',
                    dosage: '0.5 mL',
                    schedule: '2 doses, 4 weeks apart',
                    precautions: [
                        'Pregnancy',
                        'Severe immunodeficiency',
                        'Recent blood transfusion',
                        'Allergy to neomycin'
                    ],
                    sideEffects: [
                        'Mild fever',
                        'Rash',
                        'Swollen glands',
                        'Joint pain'
                    ],
                    recommendedAge: '12 months and older',
                    protectionDuration: 'Lifetime',
                    storage: '2-8°C'
                },
                'Tdap': {
                    administration: 'Intramuscular injection',
                    dosage: '0.5 mL',
                    schedule: 'Every 10 years',
                    precautions: [
                        'History of severe allergic reaction',
                        'Guillain-Barré syndrome',
                        'Moderate to severe illness'
                    ],
                    sideEffects: [
                        'Pain at injection site',
                        'Redness and swelling',
                        'Mild fever',
                        'Headache'
                    ],
                    recommendedAge: '11 years and older',
                    protectionDuration: '10 years',
                    storage: '2-8°C'
                },
                // Add more vaccines as needed
            };

            return vaccineDetails[vaccineName] || {
                administration: 'As per healthcare provider',
                dosage: 'Standard dose',
                schedule: 'As recommended',
                precautions: ['Consult healthcare provider'],
                sideEffects: ['Consult healthcare provider'],
                recommendedAge: 'As per guidelines',
                protectionDuration: 'Varies',
                storage: 'As per manufacturer guidelines'
            };
        }

        // Quote Slideshow functionality
        function setupQuoteSlideshow() {
            const slides = document.querySelectorAll('.quote-slide');
            const nav = document.querySelector('.quote-nav');
            let currentSlide = 0;
            let slideInterval;

            // Create navigation dots
            slides.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = `quote-dot ${index === 0 ? 'active' : ''}`;
                dot.addEventListener('click', () => goToSlide(index));
                nav.appendChild(dot);
            });

            function goToSlide(index) {
                slides[currentSlide].classList.remove('active');
                document.querySelectorAll('.quote-dot')[currentSlide].classList.remove('active');
                currentSlide = index;
                slides[currentSlide].classList.add('active');
                document.querySelectorAll('.quote-dot')[currentSlide].classList.add('active');
            }

            function nextSlide() {
                const next = (currentSlide + 1) % slides.length;
                goToSlide(next);
            }

            function startSlideshow() {
                if (slideInterval) {
                    clearInterval(slideInterval);
                }
                slideInterval = setInterval(nextSlide, 5000);
            }

            // Start the slideshow
            startSlideshow();

            // Pause on hover
            const slideshow = document.querySelector('.quote-slideshow');
            slideshow.addEventListener('mouseenter', () => clearInterval(slideInterval));
            slideshow.addEventListener('mouseleave', startSlideshow);
        }

        // Initialize quote slideshow after DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            setupQuoteSlideshow();
        });

        // ADD the function here
        function enterWebsite() {
            const welcomePage = document.getElementById('welcomePage');
            const transitionText = document.createElement('div');
            transitionText.className = 'transition-text';
            transitionText.textContent = 'Getting things ready for you...';
            document.body.appendChild(transitionText);

            setTimeout(() => {
                welcomePage.style.transform = 'translateY(-100%)';
                setTimeout(() => {
                    welcomePage.style.display = 'none';
                    document.body.removeChild(transitionText);
                }, 800);
            }, 1500);
        }
    </script>
</body>
</html>
